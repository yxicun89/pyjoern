# 🎨 Visualizeディレクトリ - 直感的グラフ視覚化

このディレクトリには、PyJoernで生成されるグラフを **人間が理解しやすい形** で視覚化するプログラムが含まれています。

## 📁 ファイル構成

### 🔍 `step_flow_analyzer.py` - ステップバイステップ解析
**最も詳しい説明付きの視覚化プログラム**

**特徴:**
- 📋 プログラムの構造を段階的に説明
- 🎯 初心者でも理解できる解説付き
- 📊 詳細な統計情報とレポート生成
- 🛣️ 実行パスの分析

**生成される図:**
- 実行フロー図（詳細な説明付き）
- 解析レポート（テキストファイル）

### 🎨 `intuitive_visualizer.py` - 直感的視覚化
**3種類の分かりやすい図を生成**

**特徴:**
- 📋 フローチャート図 - 標準的なフローチャート形式
- ⏱️ タイムライン図 - 実行順序を時系列で表示  
- 🔍 概要図 - 主要な処理のみを簡潔に表示

**適用場面:**
- プレゼンテーション用
- ドキュメント作成
- コードレビュー

### ⚙️ `config.json` - 設定ファイル
視覚化の設定をカスタマイズできます。

## 🚀 使い方

### 基本的な使用方法

1. **ステップバイステップ解析を実行:**
   ```bash
   cd visualize
   python step_flow_analyzer.py
   ```

2. **直感的な図を生成:**
   ```bash
   python intuitive_visualizer.py
   ```

### インタラクティブな使用

両方のプログラムは対話式で動作します：

```
🎯 ステップバイステップ グラフ視覚化プログラム
============================================================
📁 利用可能なファイル:
  1. whiletest.py
  2. test.c

解析するファイルを選択してください (1-2, Enter=全て): 
```

## 📊 生成される図の種類

### 1. 📋 フローチャート図
```
🚀 START     プログラム開始
    ↓
⚙️ PROCESS   変数初期化
    ↓
❓ DECISION  条件判定
  ↙     ↘
⚙️ PROCESS  🔄 MERGE
    ↓        ↓
🏁 END      プログラム終了
```

**用途:** 標準的なフローチャートとして資料に使用

### 2. ⏱️ タイムライン図
```
時間軸: ①────②────③────④────⑤
       開始   初期化  判定   処理   終了
      0.0ms  0.1ms  0.2ms  0.3ms  0.4ms
```

**用途:** 実行順序の理解、デバッグ時の実行フロー確認

### 3. 🔍 概要図
```
🚀 プログラム開始
       ↓
⚙️ 処理: 変数代入
       ↓
🏁 プログラム終了
```

**用途:** 簡潔な概要説明、高レベルな設計確認

## 🎨 色とシンボルの意味

### シンボル
- 🚀 **START** - プログラムの開始点
- 🏁 **END** - プログラムの終了点
- ⚙️ **PROCESS** - 通常の処理（代入、計算など）
- ❓ **DECISION** - 条件判定（if文など）
- 🔄 **MERGE** - 複数の流れの合流点
- 🔁 **LOOP** - ループ処理

### 色分け
- 🟢 **緑系** - 開始、成功、正常な流れ
- 🔴 **赤系** - 終了、エラー、重要な処理
- 🔵 **青系** - 通常の処理
- 🟡 **黄系** - 判定、分岐
- 🟣 **紫系** - 特殊処理、合流

## 📁 出力ファイル

### ディレクトリ構造
```
visualize/
├── flow_analysis_results/          # ステップ解析結果
│   ├── execution_flow_main_20250718_143022.png
│   └── analysis_report_main_20250718_143022.txt
├── intuitive_graphs/               # 直感的な図
│   ├── flowchart_main_20250718_143023.png
│   ├── timeline_main_20250718_143024.png
│   └── overview_main_20250718_143025.png
└── graph_outputs/                  # その他の図
```

### ファイル命名規則
```
{図の種類}_{関数名}_{タイムスタンプ}.png
例: flowchart_main_20250718_143022.png
```

## ⚙️ カスタマイズ

### 設定ファイルの編集
`config.json`を編集することで、以下をカスタマイズできます：

```json
{
  "advanced_visualization": {
    "flowchart": {
      "colors": {
        "start": "#2ECC71",    // 開始ノードの色
        "end": "#E74C3C",      // 終了ノードの色
        "process": "#3498DB"   // 処理ノードの色
      }
    }
  }
}
```

### 新しいファイルの追加
```json
{
  "source_files": [
    "whiletest.py",
    "test.c",
    "your_new_file.py"    // 新しいファイルを追加
  ]
}
```

## 🔧 トラブルシューティング

### Q: 図が生成されない
**A:** 以下を確認してください：
1. 解析対象ファイル（whiletest.py など）が存在するか
2. PyJoernが正しくインストールされているか
3. matplotlibが正しくインストールされているか

### Q: WSL環境で図が表示されない
**A:** 画像ファイルは自動的に保存されます：
```bash
# Windowsから確認
explorer.exe \\wsl$\Ubuntu\path\to\your\project\visualize\
```

### Q: エラーが発生する
**A:** Python環境を確認：
```bash
pip install pyjoern networkx matplotlib
```

## 📈 応用例

### 1. コードレビュー
- フローチャート図をレビュー資料に添付
- 複雑な処理の流れを視覚的に説明

### 2. ドキュメント作成
- 概要図を設計書に組み込み
- タイムライン図で実行順序を説明

### 3. デバッグ支援
- 実行フロー図で処理の流れを確認
- 分岐条件の動作を視覚的にチェック

### 4. 教育用途
- プログラミング学習者への説明資料
- アルゴリズムの動作原理の説明

## 🎯 使い分けガイド

| 目的 | 推奨プログラム | 推奨図タイプ |
|------|--------------|------------|
| 詳細分析 | step_flow_analyzer.py | 実行フロー図 + レポート |
| プレゼン | intuitive_visualizer.py | フローチャート図 |
| 概要説明 | intuitive_visualizer.py | 概要図 |
| デバッグ | step_flow_analyzer.py | 実行フロー図 |
| 学習 | intuitive_visualizer.py | タイムライン図 |

## 💡 ヒント

1. **複雑なプログラムの場合**
   - まず概要図で全体を把握
   - 次にフローチャート図で詳細確認

2. **プレゼンテーション用途**
   - 図のサイズを大きく設定（config.json）
   - 色を調整して見やすくする

3. **デバッグ時**
   - タイムライン図で実行順序を確認
   - レポートファイルで統計情報をチェック

このディレクトリのプログラムを使って、プログラムの構造を分かりやすく視覚化し、開発効率を向上させましょう！
